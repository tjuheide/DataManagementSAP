{
  "hash": "442910ed4deae4c658d7bf6fe21f0f05",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"General thoughts\"\n---\n\n\n\n### Motivation\n\nThe purpose of a statistical analysis plan (SAP) - which will often also contain a (partial) data management plan - is to improve the quality of studies. The SAP will often be based on (or an appendix to) a protocol where the overall outline of a study is presented with fewer details.\n\n#### The research question - what is the estimand?\n\nWriting a detailed SAP forces the researcher/study group to think clearly about what the aim of the study is (which estimand[^1] needs to be estimated?), and how to achieve this aim (which estimator can provide the least biased estimate?).\n\n[^1]: There are possibly several estimands.\n\nSpeaking from experience, it is not uncommon that a researcher wants an answer to a question that is so vague, that several different analyses could be carried out and all be said to provide a relevant answer to the question.\n\nA question like \"What is the occurrence of dementia in individuals with chronic kidney disease (CKD)?\" can be a good overall question, but there is no unique answer to that because the question is not specific. It could be interpreted in several ways:\n\n1.  Among people with CKD living in Denmark today, how large a proportion also have dementia?\n    -   This question could be answered using a cross sectional design.\n2.  Among people who lived with CKD in Denmark 10 years ago how large a proportion have had dementia since?\n    -   This question could be answered with a cohort design, using appropriate time-to-event methods to take censoring and the competing risk of death into account.\n3.  Among people with incident CKD in the period 2010-2025 without prevalent dementia at the time of CKD, how large a proportion have developed dementia since?\n    -   Again, a cohort design with time-to-event methods could be used to answer this question, but notice that it will be a different cohort compared to the above.\n\nEven these questions are not completely clear. The first question interprets \"occurrence\" as \"prevalence\", while the second and third aim to provide estimates of an incompletely defined \"risk\", seeing that risk strictly speaking only makes sense if a time frame is also specified, e.g., 10-year risk.\n\nIf the question is not clear before the answer is sought, there is a significant risk of p-hacking or HARKing.[^2]\n\n[^2]: [Wikipedia on HARKing](https://en.wikipedia.org/wiki/HARKing).\n\n#### Definitions and data\n\nOnce it is clear what the specific research question is, i.e., what the estimand is, it is also relevant to consider how the population and the individual variables are defined.\n\nContinuing with the example of CKD and dementia, there will be several ways to identify these conditions from registries. Therefore, even if a SAP has been written in great detail, i.e., considerations on how to handle missing data are made, relevant subgroups specified, estimation methods described, table shells ready to be populated etc., it is still important to also describe how a population with \"incident CKD\", say, can be identified from registries. Likewise, it needs to be specified how \"dementia\" should be defined.\n\nDefining populations and variables is data management and not statistical analyses per se. That does not make specification of these aspects less important, this is just to point out that a data management plan is also essential.\n\n#### Two documents or one?\n\nThe data management plan and the SAP can often be written as one coherent document with no explicit distinction between the two parts. However, it can still be relevant to keep in mind that data management and statistical analyses are in principle separate parts/phases of a study. In international/multicenter studies, it is generally advisable to use a common data model, so that analytic scripts (scripts needed to carry out statistical analyses as specified in the SAP) can be shared, ensuring the same methods are applied at all centers. To facilitate this, each center must provide a data set that is set up in a specific way.\n\nHowever, data management will generally have to differ between centers at some initial level. At the most low-practical level, registries and their variables will have different names and structures. There can also be qualitative differences, e.g., primary vs. secondary care data, granularity of (diagnosis/procedure/...) codes, or precision of time variables,[^3] all of which may require different approaches between centers.\n\n[^3]: Examples from Danish registries include laboratory data which hold dates and time stamps (hours and minutes), whereas the National Health Insurance Service Registry only includes week number.\n\nIn the following, it will be assumed that the data management plan is incorporated into the SAP.\n\n### Elements of the SAP\n\n#### Log of changes\n\nNear the start of the SAP there should be a log of changes, so that any changes made after data management or analyses are started can be documented. The log should contain dates where changes are made, what the changes are, and reasons for the change. This will both serve as a reminder within the group of why decisions were made, and if the statistician is replaced the new statistician will be able to get a quick overview of the history of the project (and maybe find reasons for deviations between what is actually done, and what was specified in the protocol).\n\n\n\n::: {#tbl-changelog .cell tbl-cap='{}'}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ashasuwbvc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ashasuwbvc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ashasuwbvc thead, #ashasuwbvc tbody, #ashasuwbvc tfoot, #ashasuwbvc tr, #ashasuwbvc td, #ashasuwbvc th {\n  border-style: none;\n}\n\n#ashasuwbvc p {\n  margin: 0;\n  padding: 0;\n}\n\n#ashasuwbvc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ashasuwbvc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ashasuwbvc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ashasuwbvc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ashasuwbvc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ashasuwbvc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ashasuwbvc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ashasuwbvc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ashasuwbvc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ashasuwbvc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ashasuwbvc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ashasuwbvc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ashasuwbvc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ashasuwbvc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ashasuwbvc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ashasuwbvc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ashasuwbvc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ashasuwbvc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ashasuwbvc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ashasuwbvc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ashasuwbvc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ashasuwbvc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ashasuwbvc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ashasuwbvc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ashasuwbvc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ashasuwbvc .gt_left {\n  text-align: left;\n}\n\n#ashasuwbvc .gt_center {\n  text-align: center;\n}\n\n#ashasuwbvc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ashasuwbvc .gt_font_normal {\n  font-weight: normal;\n}\n\n#ashasuwbvc .gt_font_bold {\n  font-weight: bold;\n}\n\n#ashasuwbvc .gt_font_italic {\n  font-style: italic;\n}\n\n#ashasuwbvc .gt_super {\n  font-size: 65%;\n}\n\n#ashasuwbvc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ashasuwbvc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ashasuwbvc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ashasuwbvc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ashasuwbvc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ashasuwbvc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ashasuwbvc .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ashasuwbvc .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ashasuwbvc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout:fixed;width:100%;\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <colgroup>\n    <col style=\"width:20%;\"/>\n    <col style=\"width:40%;\"/>\n    <col style=\"width:40%;\"/>\n  </colgroup>\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"font-weight: bold;\">Log of changes</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Change\">Change</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Reason\">Reason</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Date\" class=\"gt_row gt_left\">20/06/2023</td>\n<td headers=\"Change\" class=\"gt_row gt_left\">NA (First version)</td>\n<td headers=\"Reason\" class=\"gt_row gt_left\">NA</td></tr>\n    <tr><td headers=\"Date\" class=\"gt_row gt_left\">08/12/2023</td>\n<td headers=\"Change\" class=\"gt_row gt_left\">HRs estimated by Cox regression replaced by RRs estimated from Aalen-Johansen estimator</td>\n<td headers=\"Reason\" class=\"gt_row gt_left\">Non-proportional hazards</td></tr>\n    <tr><td headers=\"Date\" class=\"gt_row gt_left\">31/03/2024</td>\n<td headers=\"Change\" class=\"gt_row gt_left\">Sensitivity analysis added where CKD is defined by eGFR persistently below 60 mL/min/1,73m² for at least 90 days</td>\n<td headers=\"Reason\" class=\"gt_row gt_left\">Reviewer 2 was critical of our initial definition of CKD. We maintain our original definition for primary analyses.</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Background and aims / objectives\n\nA brief description of why the study is important, and what the aims or objectives are.\n\nConsider who the reader is. If this is for a statistician to implement, 2 pages of biology, chemistry and/or anatomy are not helpful. The point is not to copy everything from the protocol (if one exists), but to add the minimal necessary context for the analyses.\n\n#### Miscellaneous methods\n\nIt is likely that there are several pieces of information that are relevant to write but are rather matter-of-fact in nature and need no further explanation. These parameters may include:\n\n* A list the registries to be used.\n* Study period and recruitment period: if these are specified exactly once, they only need to be changed once in the document if they are revised while running the study.\n* Time: how long is a month and/or a year, if these are relevant units of time. Consider if a year should be the same as 12 months if both units are used in the project.\n* Exposure groups: If there is an exposure and a control group, consider specifying these.\n* If the independent variable of primary interest is continuous, consider specifying the reference value.\n\n#### Study population and index date\n\nList in detail how the study population is derived from the raw registry data. This will often require defining an index date from raw data (make sure it is clear what the index date is), and then a series of in- and exclusion criteria to be applied on this index date.[^4]\n\n[^4]: Sometimes there will be more than one day that is important. E.g., for a population with post-surgical infection, it might be necessary to apply some criteria on the date of the surgery and others on the date of the infection.\n\nPrepare a figure shell for a flowchart, and make sure the order of the criteria in the figure aligns with the order the criteria are listed in the text. In some situations it can be relevant to leave out some of the steps leading up to defining the index date from the flowchart, however, all exclusion criteria that are applied after the index date is defined should be included in the flowchart by default.\n\n#### Variables\n\nDepending on the study design, different types of variables are necessary to define. A table of codes to be used for the individual variable should always be supplied. This table can be a separate file or at as an appendix within the same document. Some variables will likely have different roles, and it might be relevant to have separate paragraphs outlining (as relevant):\n\n* how different levels of the exposure variable will be defined,\n* how the outcome is defined,\n  - if time-to-event list competing and censoring events,\n* other covariates to be reported.\n\nNote that rather than listing all variables in the text, it can be advantageous to point to a table shell (typically for Table 1 describing baseline characteristics), and state that these are the covariates to be included.\n\n#### Statistical analyses\n\nThis is the key part of the statistical part of the SAP.\n\nSome aspects need little explanation. E.g., populating the table shell for Table 1 with baseline characteristics (in generic studies), does not generally require any particular explanation. It might be relevant to explicitly state that continuous variables (except calendar time) will be reported by their median and interquartile interval (Q1-Q3); that for dichotomous variables only one level (e.g., only numbers with heart failure, not those without) will be reported; that for multilevel categorical variables all levels will be reported.\n\nWhatever other analyses need to be done should be specified here. Things to consider:\n\n* which type of (regression) model, if any, should be used,\n* how should variables be included into the models (continuous variables as splines, or some other transformation),\n* how should assumptions be assessed, and what should be done if they do not hold,\n* which non-parametric methods (Kaplan-Meier, Aalen-Johansen, ...) should be used,\n* how should missing data be handled (this can be a section on its own),\n* how will uncertainty be estimated if it cannot simply be extracted from standard output,\n* bias analyses to handle unmeasured confounding (possibly move this to sensitivity analyses),\n* sensitivity- and subgroup analyses should have their own sections, but changes from the main analyses could be mentioned here, e.g., we might not assess assumptions for a sensitivity analysis, if they appear to hold for the primary analysis,\n* which software packages to use (R, SAS, Stata, ...)\n\nTo reduce the risk of p-hacking, it is a good idea to pre-specify interim analyses to be carried out before moving on. E.g., the size of the population and numbers of exposed might be worth sharing before looking into baseline characteristics. If the numbers are off, something needs to be changed. Likewise, it is a good idea to produce and share the table with descriptive characteristics before looking into outcome analyses (if relevant), again, to see if something is off before the first version of the main results of the study are known. In this way the risk of rerunning analyses until the desired results are found is reduced.\n\n#### Missing data\n\nIf missing data are expected it will generally be a good idea to write something about this in advance. Not just how to handle missing data (which can be outlined under statistical analyses), but rather which variables are expected to contain missing data and to which extent.\n\n#### Stratified analyses\n\nSpecify if the analyses should be carried out within strata of some variables. Also specify if the results should be compared across strata, e.g., if effect-heterogeneity is assessed in some formal way with the alternative simply being eyeballing.\n\n#### Sensitivity analyses including subgroup analyses\n\nHaving gotten this far, surely, some arbitrary choices will have been made, and the impact of some of these might be relevant to consider in sensitivity analyses. Examples could be\n\n* use of secondary diagnoses for outcomes,\n* length of follow-up,\n* washout- or grace periods,\n* recruitment period,\n* lookback period for variables, \n* in- or exclusion of specific patient groups\n\nIf residual confounding is a concern, restriction to specific subgroups can be used.[^5] E.g., if obesity, alcohol consumption, smoking or other variables that are hard to measure are important confounders, an analysis restricted to individuals who are known or presumed to be similar with respect to these variables (have a record compatible with obesity, alcoholism, COPD, etc.) may be important to run.[^6]\n\n[^5]: Note the difference between a subgroup analysis where the population is restricted, and a stratified analysis where the population is split but all are included in new analyses within their respective strata.\n\n[^6]: Depending on the strength of the confounder it could be considered if the primary analysis should be within the restricted population, but this should be specified before running the analyses.\n\n#### Table shells\n\nMake a set of tables that are empty but otherwise ready to be published. There should a table shell for each table to be included in the manuscript or supplementary materials of the publication.\n\n#### Figure shells\n\nAs for table shells, there should be a specification of each figure to be included in the publication. Remember to make a figure shell for a flow chart!\n\nIt can be harder to make actual shells for figures than for tables, so consider copying/linking to figures from other publications that can be used as templates. Specify axis-labels, colors etc. if they need to be specific.[^7]\n\n[^7]: It will often be quick to change these parameters, but if you know in advance what they should be you might as well spell it out explicitly.\n\n#### Coding table\n\nProvide all (diagnosis/procedure/ATC/SNOMED/NPU/...) codes needed to define the study population, exposure, outcome, covariates, in a structured manner. The coding table can be a separate file (e.g., .xlsx) or part of the SAP. Make it easy to copy/import codes from the coding table to analytic scripts so they do not have to be transcribed manually.\n\nColumns to include in the coding table could be:\n\n* explicit variable names[^8] (typically not necessary but can be relevant when using a common data model across sites),\n* informal variable names,[^9]\n* data source from which the codes are pulled, e.g., the Danish National Patient Registry (DNPR),\n* the actual codes to be used, e.g., DN18,\n* patient and diagnosis type (applicable to DNPR); in-, out-, ER-patients, primary or secondary diagnoses,\n* lookback from index date,\n* notes on issues that are relevant for a specific variable that does not warrant a column in it self. E.g., thresholds for biomarkers defining conditions like CKD (eGFR) or type 2 diabetes mellitus (HbA1c); that a diagnosis code mycosis fungoides must be made a department of dermatology to be included\n\n[^8]: I.e., the name the variable should have in the analytic script, e.g., `gld_180d`. If formal variable names are used, they have to conform to the statistical software package used.\n\n[^9]: I.e., the name as you would refer to it in text, e.g., 'glucose lowering drugs within 180 days'.\n\n#### References\n\nList of literature referenced in the SAP\n\n\n### Pitfalls to avoid\n\n1. Avoid repetitions.\n   - Whenever possible specify things exactly once, then there is exactly one place to change this when revising. This means that the statistician/statistical programmer does not accidentally define read off the recruitment period the one place you overlooked when revising.\n2. Do not write codes from the coding table in the text, it serves no purpose when it is also specified in a coding table (also see point 1.).\n3. Avoid circular reasoning/definitions. It can be necessary to refer to a later section of the SAP, but beware that this later section does not point back so that, e.g., the index date is defined as the date of the index date.\n\n### Tips for specifying the order of inclusion-/exclusion criteria\n\nDraw timelines of hypothetical patients' records in registries. How might records of various conditions relative to each other and the recruitment period affect who gets in- and excluded? Who would you want to include and who not? How can you set up the order of in- and exclusion criteria to achieve this? Of particular importance is at which point you settle on the index date. Once the index date is set, it is generally of minor importance how subsequent criteria are ordered.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}